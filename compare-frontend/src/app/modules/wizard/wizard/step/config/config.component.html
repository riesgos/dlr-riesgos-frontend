<form [formGroup]="formGroup">
    <div class="formElement" *ngFor="let input of data.inputs">
        <ng-container *ngIf="input.options">
            <label [for]="input.label">{{ input.label }}</label>

            <!-- 
                Removed binding to form-control. Instead using (click)="select". 
                Reason: must be able to set value from outside of form.
            -->
            <select *ngIf="input.formtype === 'string-select'" >
                <option (click)="select(input.productId, undefined)"></option>
                <option *ngFor="let option of input.options | keyvalue" (click)="select(input.productId, option.value)" [selected]="isSelected(input.productId, option)">{{ option.key }}</option>
            </select>

            <input *ngIf="input.formtype === 'string'" [formControlName]="input.label" />
            
        </ng-container>
    </div>
    <button [disabled]="!allValuesSet()" (click)="execute()">Execute</button>
</form>