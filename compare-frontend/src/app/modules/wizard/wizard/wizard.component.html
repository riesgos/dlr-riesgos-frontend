<ng-container *ngIf="state$ | async as state">

    <div class="wizard box" *ngIf="focus">
        <div class="wizard-header">
            <app-svg *ngIf="partition === 'left' && state.wizardExpanded"  (click)="hideWizard()"   [path]="'assets/icons/double_caret_up.svg'" style="transform: rotate(-90deg); width: 20px; height: 20px; background-color: var(--gray-600);"></app-svg>
            <app-svg *ngIf="partition === 'left' && !state.wizardExpanded" (click)="expandWizard()" [path]="'assets/icons/double_caret_down.svg'" style="transform: rotate(-90deg); width: 20px; height: 20px; background-color: var(--gray-600);"></app-svg>
            <app-info [scenario]="scenario" [partition]="partition"></app-info>
            <app-svg *ngIf="partition === 'right' && state.wizardExpanded"  (click)="hideWizard()"   [path]="'assets/icons/double_caret_up.svg'" style="transform: rotate(90deg); width: 20px; height: 20px; background-color: var(--gray-600);"></app-svg>
            <app-svg *ngIf="partition === 'right' && !state.wizardExpanded" (click)="expandWizard()" [path]="'assets/icons/double_caret_down.svg'" style="transform: rotate(90deg); width: 20px; height: 20px; background-color: var(--gray-600);"></app-svg>
        </div>
    
    </div>
    
    <div class="wizard box" [class]="state.wizardExpanded ? 'expanded' : 'collapsed'">
        <div class="wizard-content" >
            <div class="step" *ngFor="let datum of state.stepData; trackBy: trackByFn">
                <app-step [scenario]="scenario" [partition]="partition" [data]="datum"></app-step>
            </div>
        </div>
    </div>
</ng-container>

