/**
 * Classes for layer construction
 */
export class LayerGroup {
    constructor(options) {
        this.filtertype = 'Layers';
        this.removable = true;
        this.layerRemovable = true;
        this.expanded = false;
        if (options && options.visible !== undefined && options.layers && options.layers.length) {
            options.layers = options.layers.map(l => {
                l.visible = options.visible;
                return l;
            });
        }
        Object.assign(this, options);
    }
    get visible() {
        if (this.layers && this.layers.length) {
            this.protVisible = this.layers.filter(l => l.visible).length > 0;
        }
        return this.protVisible;
    }
    set visible(value) {
        this.protVisible = value;
        if (this.layers && this.layers.length) {
            this.layers = this.layers.map(l => {
                l.visible = value;
                return l;
            });
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGF5ZXJHcm91cC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3NlcnZpY2VzLWxheWVycy9zcmMvbGliL3R5cGVzL0xheWVyR3JvdXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBZ0NBOztHQUVHO0FBQ0gsTUFBTSxPQUFPLFVBQVU7SUFpQnJCLFlBQVksT0FBMkI7UUFWdkMsZUFBVSxHQUFrQixRQUFRLENBQUM7UUFDckMsY0FBUyxHQUFHLElBQUksQ0FBQztRQUNqQixtQkFBYyxHQUFHLElBQUksQ0FBQztRQUt0QixhQUFRLEdBQUcsS0FBSyxDQUFDO1FBSWYsSUFBSSxPQUFPLElBQUksT0FBTyxDQUFDLE9BQU8sS0FBSyxTQUFTLElBQUksT0FBTyxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTtZQUN2RixPQUFPLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUN0QyxDQUFDLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUM7Z0JBQzVCLE9BQU8sQ0FBQyxDQUFDO1lBQ1gsQ0FBQyxDQUFDLENBQUM7U0FDSjtRQUNELE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDVCxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUU7WUFDckMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1NBQ2xFO1FBQ0QsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQzFCLENBQUM7SUFDRCxJQUFJLE9BQU8sQ0FBQyxLQUFjO1FBQ3hCLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTtZQUNyQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUNoQyxDQUFDLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztnQkFDbEIsT0FBTyxDQUFDLENBQUM7WUFDWCxDQUFDLENBQUMsQ0FBQztTQUNKO0lBQ0gsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGF5ZXIsIFRHZW9FeHRlbnQsIFRGaWx0ZXJ0eXBlcyB9IGZyb20gJy4vTGF5ZXJzJztcbmltcG9ydCB7IElEeW5hbWljQ29tcG9uZW50IH0gZnJvbSAnQGRsci1lb2MvY29yZS11aSc7XG5cbi8qKlxuICogIExheWVyR3JvdXBzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUxheWVyR3JvdXBPcHRpb25zIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICAvKiogTGF5ZXJzIHRvIGdyb3VwIC0gSGlnaGVyIGluZGV4ZXMgZ2V0IGRyYXduIGFib3ZlIGxvd2VyIGluZGV4ZXMgKi9cbiAgbGF5ZXJzOiBMYXllcltdO1xuXG4gIHZpc2libGU/OiBib29sZWFuO1xuICBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgZmlsdGVydHlwZT86IFRGaWx0ZXJ0eXBlcztcbiAgcmVtb3ZhYmxlPzogYm9vbGVhbjtcbiAgbGF5ZXJSZW1vdmFibGU/OiBib29sZWFuO1xuICBiYm94PzogVEdlb0V4dGVudDtcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGFjdGlvbnM/OiBbeyB0aXRsZTogc3RyaW5nLCBpY29uOiBzdHJpbmcsIGFjdGlvbjogKExheWVyR3JvdXApID0+IHZvaWQgfV07XG4gIC8qKiBvcHRpb25hbCBhbmd1bGFyIGNvbXBvbmVudCB0aGF0IGNhbiBiZSB1c2VkIGUuZy4gdG8gY2hhbmdlIHRoZSBsYXllciBzdHlsZSwgZmlsdGVyIHRoZSBkYXRhIG9yIHJlcXVlc3QgbmV3IGRhdGEgKi9cbiAgYWN0aW9uPzogSUR5bmFtaWNDb21wb25lbnQ7XG4gIC8qKiBVSSBpcyBleHBhbmRlZCAqL1xuICBleHBhbmRlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBDU1MgQ2xhc3MgZm9yIGN1c3RvbSBzdHlsaW5nXG4gICAqXG4gICAqIElmIGNsYXNzICdoaWRlJyBpcyBpbmNsdWRlZCBpbiB0aGUgc3RyaW5nLCB0aGUgZ3JvdXAgaXMgbm90IHNob3duIGluIHRoZSBVSSAtIHRoaXMgY2FuIHByb2JhYmx5IGJyaW5nIHNpZGUgZWZmZWN0cyB3aGVuIExheWVycyBhcmUgcmVvcmRlcmVkLCBiZWNhdXNlIHRoZSBoaWRkZW4gbGF5ZXJzIGNvdWxkIGJlIG1vdmVkIG9uIHRvcCBvZmYgYWxsIVxuICAgKi9cbiAgY3NzQ2xhc3M/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQ2xhc3NlcyBmb3IgbGF5ZXIgY29uc3RydWN0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBMYXllckdyb3VwIGltcGxlbWVudHMgSUxheWVyR3JvdXBPcHRpb25zIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBsYXllcnM6IExheWVyW107XG5cbiAgcHJvdGVjdGVkIHByb3RWaXNpYmxlPzogYm9vbGVhbjtcbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIGZpbHRlcnR5cGU/OiBURmlsdGVydHlwZXMgPSAnTGF5ZXJzJztcbiAgcmVtb3ZhYmxlID0gdHJ1ZTtcbiAgbGF5ZXJSZW1vdmFibGUgPSB0cnVlO1xuICBiYm94PzogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBhY3Rpb25zPzogW3sgdGl0bGU6IHN0cmluZywgaWNvbjogc3RyaW5nLCBhY3Rpb246IChMYXllckdyb3VwKSA9PiB2b2lkIH1dO1xuICBhY3Rpb24/OiBJRHluYW1pY0NvbXBvbmVudDtcbiAgZXhwYW5kZWQgPSBmYWxzZTtcbiAgY3NzQ2xhc3M/OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogSUxheWVyR3JvdXBPcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy52aXNpYmxlICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5sYXllcnMgJiYgb3B0aW9ucy5sYXllcnMubGVuZ3RoKSB7XG4gICAgICBvcHRpb25zLmxheWVycyA9IG9wdGlvbnMubGF5ZXJzLm1hcChsID0+IHtcbiAgICAgICAgbC52aXNpYmxlID0gb3B0aW9ucy52aXNpYmxlO1xuICAgICAgICByZXR1cm4gbDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIG9wdGlvbnMpO1xuICB9XG5cbiAgZ2V0IHZpc2libGUoKSB7XG4gICAgaWYgKHRoaXMubGF5ZXJzICYmIHRoaXMubGF5ZXJzLmxlbmd0aCkge1xuICAgICAgdGhpcy5wcm90VmlzaWJsZSA9IHRoaXMubGF5ZXJzLmZpbHRlcihsID0+IGwudmlzaWJsZSkubGVuZ3RoID4gMDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJvdFZpc2libGU7XG4gIH1cbiAgc2V0IHZpc2libGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLnByb3RWaXNpYmxlID0gdmFsdWU7XG4gICAgaWYgKHRoaXMubGF5ZXJzICYmIHRoaXMubGF5ZXJzLmxlbmd0aCkge1xuICAgICAgdGhpcy5sYXllcnMgPSB0aGlzLmxheWVycy5tYXAobCA9PiB7XG4gICAgICAgIGwudmlzaWJsZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gbDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIl19